<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko-KR" data-mode="light">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="임종 결정 지원을 위한 AI 챗봇 개발기" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="SMC(삼성서울병원) 의료진과 챗봇 개발을 진행하며, 이번에 일부 내용을 논문으로 공개하게 되었어요. 이 글에서는 논문에서 다루지 못했던 고민을 함께 나누고자 해요. 현재 공개된 eirene-v1을 기준으로 작성했어요." />
<meta property="og:description" content="SMC(삼성서울병원) 의료진과 챗봇 개발을 진행하며, 이번에 일부 내용을 논문으로 공개하게 되었어요. 이 글에서는 논문에서 다루지 못했던 고민을 함께 나누고자 해요. 현재 공개된 eirene-v1을 기준으로 작성했어요." />
<link rel="canonical" href="https://denev6.github.io/posts/eirene/" />
<meta property="og:url" content="https://denev6.github.io/posts/eirene/" />
<meta property="og:site_name" content="Palette" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2026-01-10T00:00:00+09:00" />
<meta property="og:image" content="https://denev6.github.io/assets/img/preview.jpg" /><meta name="twitter:card" content="summary_large_image" />
      <meta property="twitter:image" content="https://denev6.github.io/assets/img/preview.jpg" />
<meta property="twitter:title" content="임종 결정 지원을 위한 AI 챗봇 개발기" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2026-01-14T17:14:42+09:00","datePublished":"2026-01-10T00:00:00+09:00","description":"SMC(삼성서울병원) 의료진과 챗봇 개발을 진행하며, 이번에 일부 내용을 논문으로 공개하게 되었어요. 이 글에서는 논문에서 다루지 못했던 고민을 함께 나누고자 해요. 현재 공개된 eirene-v1을 기준으로 작성했어요.","headline":"임종 결정 지원을 위한 AI 챗봇 개발기","mainEntityOfPage":{"@type":"WebPage","@id":"https://denev6.github.io/posts/eirene/"},"url":"https://denev6.github.io/posts/eirene/"}</script>
<!-- End Jekyll SEO tag -->


  <title>임종 결정 지원을 위한 AI 챗봇 개발기 | Palette
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="icon" type="image/png" href="/assets/img/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/svg+xml" href="/assets/img/favicons/favicon.svg">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">



  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.36.4/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.18/dayjs.min.js,npm/dayjs@1.11.18/locale/ko.js,npm/dayjs@1.11.18/plugin/relativeTime.js,npm/dayjs@1.11.18/plugin/localizedFormat.js,npm/tocbot@4.36.4/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Palette</a>
    <p class="site-subtitle fst-italic mb-0">개발자 노트</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>홈</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>정보</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>카테고리</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-image"></i>
            

            <span>아카이브</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    

      
        <a
          href="https://github.com/denev6"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    

      
        <a
          href="javascript:location.href = 'mailto:' + ['sungjin.code','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
          
      

      
        <a
          href="https://www.linkedin.com/in/denev6"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
          
        

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">홈</a>
            </span>

          
        
          
        
          
            
              <span>임종 결정 지원을 위한 AI 챗봇 개발기</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      포스트
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="검색..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>임종 결정 지원을 위한 AI 챗봇 개발기</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        게시
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1767970800"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2026/01/10
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          업데이트
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1768378482"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2026/01/14
</time>

        </span>
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/denev6">박성진</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="2901 단어"
>
  <em>16 분</em>읽는 시간</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">임종 결정 지원을 위한 AI 챗봇 개발기</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">바로가기</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">임종 결정 지원을 위한 AI 챗봇 개발기</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <p>SMC(삼성서울병원) 의료진과 챗봇 개발을 진행하며, 이번에 일부 내용을 논문으로 공개하게 되었어요. 이 글에서는 논문에서 다루지 못했던 고민을 함께 나누고자 해요. 현재 공개된 <a href="https://github.com/denev6/eirene-v1">eirene-v1</a>을 기준으로 작성했어요.</p>

<h2 id="삼성서울병원과-문제를-공유해요"><span class="me-2">삼성서울병원과 문제를 공유해요</span><a href="#삼성서울병원과-문제를-공유해요" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>연구실 인턴으로 SMC와 함께 의료 챗봇 개발에 참여하게 되었어요. 의료진과의 미팅을 통해 임종을 앞둔 말기암 환자분들을 돕는 시스템이 필요하다는 의견이 나왔어요. 임종을 앞둔 환자분들은 연명의료를 받을지 결정해야 하는데, 갑작스러운 말기암 진단으로 심리적으로 혼란스러울 뿐만 아니라 의료 지식을 이해하고 결정하는 데 어려움을 겪고 있다고 해요. 의료진분들 또한 많은 업무로 인해 모든 환자분들께 충분한 시간을 할애하기 어렵고, 의료 지식을 환자분들이 이해할 수 있는 언어로 설명하는 게 힘들다고 하셨어요. 그래서 말기암 환자분들을 돕기 위한 챗봇의 형태로 시작하기로 의견이 모였어요. 연구실에서는 실제 개발 인원 4명이 참여했고, 크게 의료·심리 지식을 바탕으로 상담 프로토콜을 설계하는 팀과 실제 동작하는 서비스를 개발하는 팀으로 나뉘었어요. 저는 개발을 리드하며 이론을 코드로 구현하는 일을 맡았어요.</p>

<p><a href="/assets/posts/eirene/prototype.webp" class="popup img-link shimmer"><img src="/assets/posts/eirene/prototype.webp" alt="모바일 프로토타입" style="max-height:600px;" loading="lazy"></a></p>

<h2 id="개발의-우선순위가-뭘까"><span class="me-2">개발의 우선순위가 뭘까</span><a href="#개발의-우선순위가-뭘까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>이번 개발의 목표는 (1) 빠른 프로토타입 완성과 (2) 멀티에이전트 활용이었어요. 첫 결과물 마감까지 약 한 달 정도의 시간이 있었어요. 한 달 만에 완벽한 서비스를 만들기에는 무리가 있죠. 좋은 엔지니어는 최고의 선택이 아니라 최선의 선택을 해야 한다고 생각해요. 제한된 시간과 인력으로 최선의 결과를 만들기 위해 초기 결정이 중요하다고 판단했어요. ‘빠른 프로토타입 완성’을 위해 어떤 고민을 했는지 다음 챕터에서 자세히 이야기해 볼게요. 두 번째 목표는 멀티에이전트를 활용하는 것이었어요. 처음에 <a href="https://arxiv.org/pdf/2403.13313">polaris</a>에서 아이디어를 얻었어요. 의료 챗봇은 단순히 듣기 좋은 답변만 하는 게 아니에요. 환자의 상태를 체크하고, 오류 없는 의료 지식을 제공하며, 환자의 자기결정권을 존중하면서 챗봇의 발화가 위험하지 않은지를 검증해야 해요. 이처럼 많은 일을 하나의 시스템이 관리해야 하는데, 단일 LLM이 다루기에는 context가 너무 복잡하고 많아요. 그래서 각 업무를 에이전트에게 분배하여 메인 에이전트가 중요한 context만 관리하도록 하자는 것이 주요 아이디어였어요.</p>

<h2 id="어떤-기술을-사용해야-할까"><span class="me-2">어떤 기술을 사용해야 할까</span><a href="#어떤-기술을-사용해야-할까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>먼저, 어떤 LLM 모델을 사용할지 결정해야 해요. 의료진과 미팅할 때 환자의 페르소나를 2-3개 제시해 주셨어요. 페르소나는 모두 50대 이상의 한국인 환자였어요. 이를 보고 바로 <code class="language-plaintext highlighter-rouge">ClovaX</code>를 떠올렸어요. 한국 문화를 얼마나 잘 반영하는지 개인적으로 테스트한 적이 있어요. GPT, Claude, ClovaX에게 사투리를 하도록 시켰고, 당시 ClovaX가 가장 자연스럽게 사투리를 구사했어요. <a href="https://arxiv.org/abs/2404.01954">Tech-report</a>에도 ClovaX가 GPT-4보다 한국 문화 이해 능력이 높다고 보고하고 있죠. 더불어 모든 대화가 한국어로 이루어지기 때문에 ClovaX를 사용하는 것이 토큰 효율도 더 좋을 것으로 판단했어요 (<a href="https://manvscloud.com/?p=2947">참고</a>). 따라서 당시 ClovaX에서 제공하는 고성능 모델 HCX-005와 고효율 모델 HCX-DASH-002를 함께 사용하기로 했어요.</p>

<p><a href="/assets/posts/eirene/architecture.webp" class="popup img-link shimmer"><img src="/assets/posts/eirene/architecture.webp" alt="architecture" loading="lazy"></a></p>

<p>다음으로 기술 스택을 결정해야 했어요. 멀티에이전트를 구현하기 위해 <code class="language-plaintext highlighter-rouge">Python</code> + <code class="language-plaintext highlighter-rouge">Langchain</code>을 사용해야겠다고 생각했어요. 팀원들이 모두 Python에 익숙했고, 높은 자유도를 가지면서 커뮤니티가 큰 패키지는 LangChain만한 게 없었죠. 그렇다면 백엔드 프레임워크는 Python 기반의 FastAPI나 Django 중 하나를 선택해야 해요. 목표가 프로토타입이었기에 POST 요청이 오면 챗봇 답변만 보내주면 됐어요. 그렇기 때문에 admin 패널, 유저 권한 관리 등 기능이 당장 필요하지 않았어요. 게다가 당시 팀원 대부분이 백엔드를 처음 다뤄봤기에 코드 복잡도를 늘리고 싶지 않았어요. FastAPI로 API를 처리하고, API 로직과 에이전트 로직을 잘 분리해두면 팀원들이 코드를 파악하기 더 쉬울 거라 생각했어요. 그래서 최종적으로는 <code class="language-plaintext highlighter-rouge">FastAPI</code>를 사용하기로 결정했어요.</p>

<p>사용자 인터렉션을 위해 프론트도 개발해야 했는데, Gradio나 Sveltekit 중 고민했어요. 빠르게 Gradio로 만들 것인지, 조금 더 자유도가 높은 Sveltekit를 사용할 것인지 고민했죠. 저는 프로토타입이 완성되면 사용자 테스트를 할 거라고 생각하고 있었어요. 그렇다면 챗봇 답변만큼이나 UI는 사용자 만족도를 높이는 데 중요한 요소라고 생각했죠. 예를 들어, 챗봇의 답변이 오래 걸리면 ‘생각 중…‘이라는 문구가 깜박거리면서 작동 중임을 보여주는 등 사소한 경험 말이에요. 그래서 시간이 조금 더 걸리더라도 <code class="language-plaintext highlighter-rouge">Sveltekit</code>을 선택했어요. 참고로 JS 프레임워크 중 Svelte를 선택한 건 프론트 개발 인력이 저 혼자였고 제가 가장 익숙한 프레임워크가 Svelte였기 때문이에요.</p>

<p>마지막으로 DB를 선택해야 했어요. 사용자 정보 저장을 위해 RDB가 필요했고, 고민 없이 <code class="language-plaintext highlighter-rouge">SQLite</code>를 선택했어요. 이유는 단순해요. 오버엔지니어링을 피하기 위해서죠. 저희는 내부 테스트용 프로토타입을 만들기 때문에 사용자 데이터를 다량으로 저장할 일이 없었어요. 또 RDB 스키마만 잘 정의해두면 다른 DB로 확장하는 건 나중에 해도 늦지 않다고 판단했어요.</p>

<p><a href="/assets/posts/eirene/memory_issue.webp" class="popup img-link shimmer"><img src="/assets/posts/eirene/memory_issue.webp" alt="memory issue" width="500px" loading="lazy"></a></p>

<p>문제는 Vector DB였어요. 우선 Langchain과 통합 가능한 DB였으면 좋겠고, 로컬에서 실행 가능하며, 참고할 만한 자료가 많았으면 했어요. 이 기준을 만족하는 DB는 Chroma와 FAISS가 있어요. 두 DB 모두 사전 지식이 많지 않았기 때문에 더 빠르다고 알려진 FAISS를 선택했어요 (<a href="https://medium.com/@stepkurniawan/comparing-faiss-with-chroma-vector-stores-0953e1e619eb">참고</a>). 지금 와서 생각하면 Chroma가 더 적합한 선택이었을지도 모르겠어요. Chroma는 완성된 관리 시스템에 가깝다면, FAISS는 검색 알고리즘에 더 가까워요. DB로써 작동하기 위해서는 여러 추가 작업이 필요하죠. 이걸 몰라서 이후에 기능을 확장하면서 메모리 문제를 겪기도 했어요. 여러 프로세스가 메모리 자원에 동시 접근하면서 생기는 문제였죠. 대규모 연산이 필요하지 않다면 Chroma를 사용하는 게 더 안전하다는 것을 새로 배웠어요.</p>

<h2 id="의료-챗봇은-뭐가-다를까"><span class="me-2">의료 챗봇은 뭐가 다를까</span><a href="#의료-챗봇은-뭐가-다를까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>앞서 기술에 대해 고민했다면 ‘좋은 의료 챗봇은 뭘까’에 대한 고민도 있었어요. 첫 번째로 의료 챗봇도 사용성이 중요해요. 챗봇의 답변이 한 번에 출력되는 것보다는 Streaming 방식으로 Time to First Token을 낮춰야 하죠. 또 router나 memory(챗봇 기억)처럼 I/O가 자주 발생하는 구간은 비동기로 처리해 CPU가 효율적으로 일하도록 설계했어요.</p>

<p>두 번째로 안정성이 매우 중요해요. ChatGPT 같은 상용 서비스에는 ‘실수를 할 수 있습니다’라는 문구가 있어요. 하지만 의료 챗봇의 실수는 상용 챗봇의 실수보다 훨씬 치명적일 수 있어요. <a href="https://www.who.int/publications/i/item/9789240084759">WHO 가이드</a>에서도 안전 장치 설정과 인간 전문가의 감독이 필요하다고 설명하고 있어요. 저희 팀도 RAG를 이용해 환각을 줄이고, 챗봇의 발화나 사용자의 발화를 검토하는 안전 장치를 적용했어요.</p>

<p>세 번째 특징은 ‘자기 노출’이에요. 의료 상담은 환자가 솔직하게 증상이나 감정을 이야기해 줘야 다음 단계로 나아갈 수 있어요. 네이버의 <a href="https://dl.acm.org/doi/10.1145/3613904.3642420">연구</a>는 챗봇의 장기 기억이 자기 노출에 중요한 역할을 한다고 해요. 자세한 내용은 <a href="/posts/long-term-memory">블로그</a>에 올려뒀으니 참고해주세요. 저희 팀은 ClovaX를 사용하고 있었고, 장기 기억 프레임워크로 mem0를 사용하기로 했어요. 그런데 당시 ClovaX가 JSON 출력을 지원하지 않아 mem0 내부 로직과 충돌이 있었어요. 이 문제를 해결하기 위해 mem0의 소스코드 자체를 수정했어요. ClovaX는 문자열 출력 안에 JSON을 포함하도록 했고, mem0는 문자열에서 JSON 정보를 파싱해 원래 구현된 로직을 실행하는 방향으로 수정했어요. 이 기능 덕분에 사용자가 이전에 언급했던 의료 정보나 심리 상태를 반영해 챗봇 답변을 생성할 수 있었어요.</p>

<h2 id="앞으로-어떤-문제를-해결할까"><span class="me-2">앞으로 어떤 문제를 해결할까</span><a href="#앞으로-어떤-문제를-해결할까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>여기까지가 초기 프로토타입 v1에 대한 이야기예요. v2, v3에 대해서는 간단히 이야기해보려 해요. 보다시피 v1의 에이전트 구조는 매우 복잡해요.</p>

<p><a href="/assets/posts/eirene/flow.webp" class="popup img-link shimmer"><img src="/assets/posts/eirene/flow.webp" alt="에이전트 구성" loading="lazy"></a></p>

<p>저희 팀도 이 문제를 인지하고 있었어요. 위 구조는 멀티에이전트보다는 LLM 앙상블에 가까워요. 이 문제를 해결하기 위해 ablation study를 진행했어요. 이후 불필요한 에이전트를 줄여가며 시스템 v3를 완성했어요. v3도 논문으로 공개하기 위해 작업 중이에요. 할 이야기가 많기에 논문이 게재되면 더 자세히 이야기해 볼게요.</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/project/">Project</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/nlp/"
            class="post-tag no-text-decoration"
          >NLP</a>
        
          <a
            href="/tags/agent/"
            class="post-tag no-text-decoration"
          >Agent</a>
        
          <a
            href="/tags/application/"
            class="post-tag no-text-decoration"
          >Application</a>
        
          <a
            href="/tags/python/"
            class="post-tag no-text-decoration"
          >Python</a>
        
          <a
            href="/tags/journey/"
            class="post-tag no-text-decoration"
          >Journey</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          이 기사는 저작권자의 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         라이센스를 따릅니다.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">공유하기</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://www.threads.net/intent/post?text=%EC%9E%84%EC%A2%85%20%EA%B2%B0%EC%A0%95%20%EC%A7%80%EC%9B%90%EC%9D%84%20%EC%9C%84%ED%95%9C%20AI%20%EC%B1%97%EB%B4%87%20%EA%B0%9C%EB%B0%9C%EA%B8%B0%20-%20Palette%20https%3A%2F%2Fdenev6.github.io%2Fposts%2Feirene%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Threads" aria-label="Threads">
        <i class="fa-fw fa-brands fa-square-threads"></i>
      </a>
    

      

      <a href="https://www.linkedin.com/feed/?shareActive=true&shareUrl=https%3A%2F%2Fdenev6.github.io%2Fposts%2Feirene%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin">
        <i class="fa-fw fab fa-linkedin"></i>
      </a>
    

      

      <a href="https://twitter.com/intent/tweet?text=%EC%9E%84%EC%A2%85%20%EA%B2%B0%EC%A0%95%20%EC%A7%80%EC%9B%90%EC%9D%84%20%EC%9C%84%ED%95%9C%20AI%20%EC%B1%97%EB%B4%87%20%EA%B0%9C%EB%B0%9C%EA%B8%B0%20-%20Palette&url=https%3A%2F%2Fdenev6.github.io%2Fposts%2Feirene%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%9E%84%EC%A2%85%20%EA%B2%B0%EC%A0%95%20%EC%A7%80%EC%9B%90%EC%9D%84%20%EC%9C%84%ED%95%9C%20AI%20%EC%B1%97%EB%B4%87%20%EA%B0%9C%EB%B0%9C%EA%B8%B0%20-%20Palette&u=https%3A%2F%2Fdenev6.github.io%2Fposts%2Feirene%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="링크 복사하기"
      data-title-succeed="링크가 복사되었습니다!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">최근 업데이트</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/agent-human-comm/">RL Agent와 인간은 어떻게 협업해야 할까</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/agent-memory/">Agent에게 오답노트를 시켜봤더니</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/hrm/">Less is more, Reasoning Model의 등장</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/agent-training/">멀티모달과 멀티에이전트 조합</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/speak2ui/">모바일 제어를 위한 음성 파이프라인 최적화</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vision/">Vision</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/nlp/">NLP</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/application/">Application</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/agent/">Agent</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/multimodal/">Multimodal</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hci/">HCI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/journey/">Journey</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rl/">RL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/go/">Go</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">바로가기</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    










  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">관련된 글</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/retrieve-notice/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1742742000"
  data-df="YYYY/MM/DD"
  
>
  2025/03/24
</time>

              <h4 class="pt-0 my-2">RAG로 학교 공지 검색</h4>
              <div class="text-muted">
                <p>프로젝트를 시작하며  Retrieval-Augmented Generation(RAG)를 활용해 학교 공지를 신속하게 찾는 챗봇을 구현했어요. 이 프로젝트는 Encoder + FAISS + SQLite를 이용해 로컬 GPU로 실험했으며, 문장 요약을 위해 Claude3 Sonnet을 사용했어요.  챗봇을 만든 이유는 간단해요. 강의를 듣기 위해 강의실에...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/dev-roo/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1768143600"
  data-df="YYYY/MM/DD"
  
>
  2026/01/12
</time>

              <h4 class="pt-0 my-2">심플함을 스킨에 녹여내기까지</h4>
              <div class="text-muted">
                <p>Github: denev6/tistory-skin    Tistory: dev-roo.tistory.com     티스토리 스킨 dev-roo를 만들고 배포한 지 거의 2년이 되었어요. 지금까지 총 4번의 업데이트를 했고 4,450명 이상이 블로그를 방문했어요. 누적 조회수도 15,720회를 넘었어요. 오늘은 블로그 스킨을 왜 개발했고, 개발과 관리하...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/speak2ui/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1763564400"
  data-df="YYYY/MM/DD"
  
>
  2025/11/20
</time>

              <h4 class="pt-0 my-2">모바일 제어를 위한 음성 파이프라인 최적화</h4>
              <div class="text-muted">
                <p>Github: Jin-A-Park/Speak2UI    Demo: speak2ui_demo.mp4     이 프로젝트는 실시간으로 음성 명령을 입력받아 LLM으로 사용자 명령을 분석하고, Android A11y API를 통해 동작을 실행해요. 안드로이드 단에서 정보를 불러오고 조작하는 코드는 주로 Jin-A-Park님께서 작업했으며, 저는 주로 LLM...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/general-vla/"
      class="btn btn-outline-primary"
      aria-label="이전 글"
    >
      <p>Generalist Robot Policy 살펴보기</p>
    </a>
  

  
    <a
      href="/posts/dev-roo/"
      class="btn btn-outline-primary"
      aria-label="다음 글"
    >
      <p>심플함을 스킨에 녹여내기까지</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2026</time>

    
      <a href="https://github.com/denev6">박성진</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다."
      >일부 권리 보유</span>
    
  </p>

  <p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.4.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vision/">Vision</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/nlp/">NLP</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/application/">Application</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/agent/">Agent</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/multimodal/">Multimodal</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hci/">HCI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/journey/">Journey</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rl/">RL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/go/">Go</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      업데이트
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->


    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

